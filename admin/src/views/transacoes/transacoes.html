<section class="content transacoes">

	<search-filter filter="filter"></search-filter>

	<wait-overlay ready="collectionTransacoes.collection.isReady()" class="container-fluid">
		<div class="row">

			<div class="contas col-xl-3 col-lg-4 col-md-4 col-sm-12 col-xs-12">
				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							Contas
						</h3>
					</div>
					<!-- /.card-header -->
					<div class="card-body pr-1">
						<block-contas model="contas"></block-contas>
					</div>
				</div>
			</div>

			<div class="collection-data col-xl-9 col-lg-8 col-md-8 col-sm-12 col-xs-12">
				<div class="card">
					<div class="card-body p-0">
						<table class="table table-striped projects">
							<thead>
								<tr>
									<th style="width: 20%; min-width: 180px;">
										Conta
									</th>
									<th style="width: 15%">
										Tipo
									</th>
									<th style="width: 39%">
										Origem ou Destino
									</th>
									<th class="right" style="width: 110px;">
										Valor
									</th>
									<th class="right" style="width: 110px;">
										Saldo
									</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="c in collectionTransacoes.collection.data | orderBy: '-createdAt'">
									<td>
										<strong class="account-number monospace">{{c.account.number}}</strong>
										<br />
										<span>
											{{c.createdAt | ddmmyyyy}}
										</span>
										<small>
											{{c.createdAt | hhmm}}
										</small>
									</td>
									<td>
										<span class="badge bg-info">
											{{c.category}}
										</span>
										<br />
										<span ng-if="c.type==='debit'" class="badge bg-danger">Débito</span>
										<span ng-if="c.type==='credit'" class="badge bg-success">Crédito</span>
									</td>
									<td>
										<small ng-if="c.type==='debit'">para</small>
										<small ng-if="c.type==='credit'">de</small>
										<strong>
											<span ng-if="c.type==='credit'">
												{{c.pagador_nome | capitalize}}
											</span>
											<span ng-if="c.type==='debit'">
												{{c.recebedor_nome | capitalize}}
											</span>
										</strong>
										<br>
										<small>
											<span class="monospace" ng-if="c.type==='credit'">{{c.pagador_cpfcnpj | cpfCnpj}}</span>
											<span class="monospace" ng-if="c.type==='debit'">{{c.recebedor_cpfcnpj | cpfCnpj}}</span>
										</small>
									</td>
									<td class="right">
										<moeda valor="c.amount"></moeda>
									</td>
									<td class="right">
										<moeda valor="c.balance_after_transaction"></moeda>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</wait-overlay>
</section>