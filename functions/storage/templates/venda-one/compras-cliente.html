<div
	class="compras-cliente"
	ng-if="compras.length>0"
>
	<article class="pt-20 pb-20 mb-0">
		<hgroup class="mt-10">
			<h2>Suas compras</h2>
			<p>Veja abaixo a sua lista de títulos adquiridos.</p>
			<p>Criamos uma identificação única para o seu dispositivo e só você pode ver suas compras.</p>
		</hgroup>

		<details
			ng-repeat="c in compras | orderBy:'dtInclusao_js_desc'"
			id-titulo-compra="{{c.id}}"
			open-detail="{{c.situacao==='aguardando-pagamento'}}"
		>
			<summary>
				<strong>em {{c.dtInclusao | ddmmhhmm}}</strong>
				<small>
					~
					<strong>{{c.qtdTitulosCompra}}</strong>
					Titulo(s)
				</small>
			</summary>

			<table class="label-description">
				<tbody>
					<tr>
						<td>Nome:</td>
						<td>
							<span>{{c.nome}}</span>
						</td>
					</tr>
					<tr>
						<td>Email:</td>
						<td>
							<span>{{c.email_hide}}</span>
						</td>
					</tr>
					<tr>
						<td>CPF:</td>
						<td>{{c.cpf_hide}}</td>
					</tr>
					<tr ng-if="c.situacao==='pago'">
						<td>Pago em:</td>
						<td>{{c.dtPagamento | ddmmhhmm}}</td>
					</tr>
				</tbody>
			</table>

			<button 
				ng-if="c.situacao=='aguardando-pagamento'"
				ng-click="pagar(c)"
				class="full-width"
			>Pagar</button>

			<button 
				ng-if="c.situacao=='pago'"
				ng-click="detalhes(c)"
				class="full-width outline"
			>Detalhes da Compra</button>

			<div ng-if="!$last" class="mb-40"></div>
		</details>

	</article>
</div>